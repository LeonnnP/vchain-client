<!--
  Generated template for the ProjectAddPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

    <ion-navbar>
        <ion-title *ngIf="this.contribKey == undefined">Add a video</ion-title>
        <ion-title *ngIf="this.contribKey != undefined">Contribute to project</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>

    <div (click)="takeVideo()" [hidden]="videoURL.length > 0" class="box">
        <p style="font-size: 3em;">Tap to add a video...</p>
    </div>
    <video loop [hidden]="videoURL.length == 0" #myvideo controls="controls" preload="metadata" autoplay="autoplay" webkit-playsinline="webkit-playsinline"
           style="width: 100%; height: 80%;" class="videoPlayer"><source src="small.ogv"></video>

    <div id="thumbnail" width="300" height="300"></div>


    <div style="height: 30%" >
        <ion-list>

            <ion-item>
                <ion-label floating>Video title</ion-label>
                <ion-input type="text" [(ngModel)]="videoTitle" name="videoTitle"></ion-input>
            </ion-item>

            <ion-item *ngIf="this.contribKey == undefined">
                <ion-label floating>Description</ion-label>
                <ion-input type="text" [(ngModel)]="videoDescription" name="videoDescription"></ion-input>
            </ion-item>

            <ion-item *ngIf="tags.length > 0 && this.contribKey == undefined">
                <ion-label>Tag</ion-label>
                <ion-select [(ngModel)]="tagKey">
                    <ion-option *ngFor="let tag of tags" value="{{tag._key}}">{{tag.name}}</ion-option>
                </ion-select>
            </ion-item>

        </ion-list>

        <ion-row>
            <ion-col class="signup-col">
                <button [disabled]="videoTitle.length == 0" ion-button (click)="addProject()" color="primary" block>Add project</button>
            </ion-col>

            <ion-col class="signup-col">
                <button ion-button (click)="takeVideo()" color="primary" block>Record another video</button>
            </ion-col>
        </ion-row>

    </div>

</ion-content>
